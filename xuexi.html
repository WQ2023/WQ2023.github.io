auto.waitFor();

setScreenMetrics(1080, 2340);

//打开学习强国
launchApp("学习强国");

toast("等待进入学习页面");

var sj = random(1885, 2688);

var riqi = my_today();

sleep(2688);


//找到电台按钮并点击

for (; ;) {

    if (id("home_bottom_tab_button_mine").exists()) {

        id("home_bottom_tab_button_mine").findOne().click();

        break;

    };
    
    sleep(2000);

    toast("如果不是首页，请手动进入首页");

}

sleep(1000);

//找到新闻报摘并点击

for (; ;) {

    if (className("android.widget.TextView").text("听新闻报摘").exists()) {

        className("android.widget.TextView").text("听新闻报摘").findOne().parent().click();

        break;

    }

}

sleep(1000);

//找到联播并点击

for (; ;) {

    sleep(1000);

    if (text("中央广播电视总台-央广").exists()) {

        sleep(200);

        text("中央广播电视总台-央广").findOne().parent().parent().parent().parent().parent().click();

        sleep(200);

        break;

    }
    else {

        sleep(1000);

        click(device.width / 2, device.height * 0.78);

        break;
    }

}

sleep(1000);

//点击全部播放

for (; ;) {

    if (className("android.widget.LinearLayout").clickable(true).depth(11).exists()) {

        className("android.widget.LinearLayout").clickable(true).depth(11).findOne().click();

        break;

    }

}

sleep(sj);

back();

sleep(1000);

back();

sleep(sj);

//找到学习并点击

for (; ;) {

    if (id("home_bottom_tab_button_work").exists()) {

        id("home_bottom_tab_button_work").findOne().click();

        break;

    }

}

sleep(sj);

//找到订阅并点击

for (; ;) {

    if (className("android.widget.TextView").text("订阅").exists()) {

        className("android.widget.TextView").text("订阅").findOne().parent().click();

        sleep(1000);

        break;

    }

}

sleep(3000);

news_today(riqi);

sleep(sj);

sleep(sj);

my_henan();

sleep(sj);

jianchap_st();

sleep(500);

toast('今天学习已完成');

device.vibrate(1000);

sleep(1000);

exit();
